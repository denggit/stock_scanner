# è‚¡ç¥¨ç­›é€‰ç³»ç»Ÿ - å¿«é€Ÿå‚è€ƒæ‰‹å†Œ

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯
python run_backend.py

# å¯åŠ¨å‰ç«¯
python run_frontend.py
```

### è®¿é—®åœ°å€

- å‰ç«¯ç•Œé¢: http://localhost:8501
- åç«¯API: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs

---

## ğŸ“Š å¸¸ç”¨æ•°æ®æ“ä½œ

### è·å–è‚¡ç¥¨æ•°æ®

```python
from backend.data_source.baostock_source import BaostockSource

source = BaostockSource()
data = source.get_stock_data("000001.SZ", "2024-01-01", "2024-12-31")
```

### ä½¿ç”¨ç¼“å­˜

```python
from backend.utils.cache_manager import stock_data_cache

@stock_data_cache(expire=1800)
def get_stock_data(code, start_date, end_date):
    return source.get_stock_data(code, start_date, end_date)
```

---

## ğŸ¯ ç­–ç•¥ä½¿ç”¨

### çˆ†å‘å¼é€‰è‚¡ç­–ç•¥

```python
from backend.strategies.explosive_stock import ExplosiveStockStrategy

strategy = ExplosiveStockStrategy()
strategy.set_parameters({
    "signal": 70.0,
    "volume_ratio": 1.5,
    "rsi_range": (45, 65)
})

signal = strategy.generate_signal(stock_data)
```

### å‡çº¿å›è¸©ç­–ç•¥

```python
from backend.strategies.ma_pullback import MAPullbackStrategy

strategy = MAPullbackStrategy()
strategy.set_parameters({
    "ma_period": 20,
    "lookback_period": 20,
    "price_margin": 0.01
})
```

---

## ğŸ”§ å·¥å…·å‡½æ•°

### æŠ€æœ¯æŒ‡æ ‡è®¡ç®—

```python
from backend.utils.indicators import CalIndicators

# ç§»åŠ¨å¹³å‡çº¿
ma20 = CalIndicators.ema(df, 20, 'close')

# RSI
rsi = CalIndicators.rsi(df, 14)

# MACD
macd, signal, hist = CalIndicators.macd(df)

# å¸ƒæ—å¸¦
mid, upper, lower = CalIndicators.bollinger_bands(df, 20, 2.0)
```

### æ€§èƒ½ç›‘æ§

```python
from backend.utils.performance_monitor import get_performance_monitor

monitor = get_performance_monitor()
monitor.start_monitoring()

# æŸ¥çœ‹çŠ¶æ€
metrics = monitor.get_current_metrics()
health = monitor.get_current_health()
```

---

## âš™ï¸ é…ç½®ç®¡ç†

### è·å–é…ç½®

```python
from backend.configs.app_config import get_config

config = get_config()
db_config = config.database
redis_config = config.redis
strategy_config = config.strategy
```

### ç¯å¢ƒå˜é‡

```bash
# æ•°æ®åº“
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=your_username
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=stock_scanner

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# åç«¯
BACKEND_URL=localhost
BACKEND_PORT=8000
```

---

## ğŸ“ˆ å›æµ‹ç³»ç»Ÿ

### è¿è¡Œå›æµ‹

```python
from backend.services.backtest_service import BacktestService

backtest = BacktestService()
results = await backtest.run_backtest(
    strategy="çˆ†å‘å¼é€‰è‚¡ç­–ç•¥",
    start_date="2024-01-01",
    end_date="2024-12-31",
    backtest_init_params={
        "stock_pool": "éSTè‚¡ç¥¨",
        "initial_capital": 100000,
        "max_positions": 4
    },
    params={"signal": 70.0}
)
```

---

## ğŸŒ APIæ¥å£

### è·å–è‚¡ç¥¨æ•°æ®

```bash
GET /api/stock/{code}?period=daily&start_date=2024-01-01&end_date=2024-12-31
```

### ç­–ç•¥æ‰«æ

```bash
POST /api/strategy/scan
{
    "strategy": "çˆ†å‘å¼é€‰è‚¡ç­–ç•¥",
    "params": {
        "signal": 70.0,
        "volume_ratio": 1.5
    }
}
```

### è¿è¡Œå›æµ‹

```bash
POST /api/backtest/run
{
    "strategy": "çˆ†å‘å¼é€‰è‚¡ç­–ç•¥",
    "start_date": "2024-01-01",
    "end_date": "2024-12-31",
    "backtest_init_params": {...},
    "params": {...}
}
```

---

## ğŸ” è°ƒè¯•å·¥å…·

### æ—¥å¿—æŸ¥çœ‹

```python
from backend.utils.logger import setup_logger

logger = setup_logger("my_module")
logger.info("ä¿¡æ¯")
logger.error("é”™è¯¯")
```

### ç¼“å­˜ç®¡ç†

```python
from backend.utils.cache_manager import get_cache_manager

cache = get_cache_manager()
cache.clear()  # æ¸…ç†æ‰€æœ‰ç¼“å­˜
cache.cleanup_expired()  # æ¸…ç†è¿‡æœŸç¼“å­˜
```

### æ•°æ®åº“æ£€æŸ¥

```python
from backend.data.database import DatabaseManager

db = DatabaseManager()
db.conn.ping()  # æ£€æŸ¥è¿æ¥
```

---

## ğŸ“ å¸¸ç”¨å‘½ä»¤

### æ•°æ®æ›´æ–°

```python
from backend.data.data_manager import DataUpdateManager

manager = DataUpdateManager()
manager.update_stock_list()  # æ›´æ–°è‚¡ç¥¨åˆ—è¡¨
manager.update_daily_data()  # æ›´æ–°æ—¥çº¿æ•°æ®
```

### æ¨¡å‹è®­ç»ƒ

```python
from backend.ml.model_trainer import ExplosiveStockModelTrainer

trainer = ExplosiveStockModelTrainer()
trainer.train_models()  # è®­ç»ƒæ¨¡å‹
trainer.save_models("backend/ml/models/")  # ä¿å­˜æ¨¡å‹
```

---

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®æºè¿æ¥å¤±è´¥**: æ£€æŸ¥ç½‘ç»œå’ŒAPIå¯†é’¥
2. **æ•°æ®åº“è¿æ¥é”™è¯¯**: æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
3. **Redisè¿æ¥å¤±è´¥**: æ£€æŸ¥RedisæœåŠ¡çŠ¶æ€
4. **ç­–ç•¥æ‰§è¡Œç¼“æ…¢**: ä½¿ç”¨ç¼“å­˜å’Œæ‰¹é‡å¤„ç†

### æ—¥å¿—ä½ç½®

- åº”ç”¨æ—¥å¿—: `logs/app.log`
- é”™è¯¯æ—¥å¿—: æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

### æ€§èƒ½ç›‘æ§

```python
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
monitor = get_performance_monitor()
health = monitor.get_current_health()
print(f"çŠ¶æ€: {health.status}")
print(f"ä¿¡æ¯: {health.message}")
```

---

## ğŸ“š æ–‡ä»¶ç»“æ„

```
stock_scanner/
â”œâ”€â”€ backend/           # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ data_source/   # æ•°æ®æº
â”‚   â”œâ”€â”€ strategies/    # ç­–ç•¥
â”‚   â”œâ”€â”€ services/      # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ utils/         # å·¥å…·ç±»
â”‚   â””â”€â”€ configs/       # é…ç½®
â”œâ”€â”€ pages/            # å‰ç«¯é¡µé¢
â”œâ”€â”€ docs/             # æ–‡æ¡£
â”œâ”€â”€ logs/             # æ—¥å¿—
â”œâ”€â”€ results/          # ç»“æœ
â””â”€â”€ requirements.txt  # ä¾èµ–
```

---

## ğŸ¯ å¼€å‘æµç¨‹

1. **ç­–ç•¥å¼€å‘**: ç»§æ‰¿ `BaseStrategy` ç±»
2. **å‚æ•°é…ç½®**: ä½¿ç”¨ `set_parameters` æ–¹æ³•
3. **ä¿¡å·ç”Ÿæˆ**: å®ç° `generate_signal` æ–¹æ³•
4. **å›æµ‹éªŒè¯**: ä½¿ç”¨å›æµ‹ç³»ç»ŸéªŒè¯ç­–ç•¥
5. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨ç¼“å­˜å’Œç›‘æ§å·¥å…·

---

*å¿«é€Ÿå‚è€ƒæ‰‹å†Œ - 2025å¹´2æœˆ4æ—¥* 