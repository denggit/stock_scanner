# 上升通道策略回测 - 快速开始指南

## 🚀 快速开始

### 1. 启动服务

```bash
# 启动后端服务
python run_backend.py

# 启动前端服务（新终端）
python run_frontend.py
```

### 2. 访问应用

打开浏览器访问：`http://localhost:8501`

### 3. 开始回测

1. 选择"上升通道策略"
2. 设置参数（建议使用默认值）
3. 点击"开始回测"

## ⚡ 性能优化建议

### 快速测试配置
- **时间范围**: 3-6个月
- **股票池**: 上证50（股票数量少）
- **最大持仓**: 5-10只
- **预期时间**: 1-3分钟

### 正式回测配置
- **时间范围**: 1-2年
- **股票池**: 非ST股票
- **最大持仓**: 20-50只
- **预期时间**: 5-15分钟

## 🔧 参数说明

### 基础参数
| 参数 | 建议值 | 说明 |
|------|--------|------|
| 开始日期 | 一年前 | 确保有足够历史数据 |
| 结束日期 | 今天 | 最新数据 |
| 初始资金 | 100万 | 回测初始资金 |
| 最大持仓 | 10-20 | 控制回测规模 |

### 策略参数
| 参数 | 建议值 | 说明 |
|------|--------|------|
| 最小通道评分 | 60.0 | 通道质量阈值 |
| 通道斜率参数 | 2.0 | 通道宽度倍数 |
| 最大通道长度 | 120 | 分析窗口大小 |
| 收益触发阈值 | 0.30 | 重锚定触发条件 |
| 最小R²值 | 0.20 | 拟合优度要求 |

## 📊 结果解读

### 主要指标
- **总收益率**: 策略整体收益表现
- **最大回撤**: 最大亏损幅度
- **夏普比率**: 风险调整后收益
- **交易次数**: 策略活跃度

### 结果展示
- **收益分析**: 关键指标和收益率曲线
- **交易记录**: 详细的买卖记录
- **最新信号**: 当前选股建议

## ⚠️ 注意事项

### 1. 时间设置
- 确保开始日期有足够的历史数据
- 建议使用至少6个月的数据
- 避免使用太短的时间范围

### 2. 性能考虑
- 股票数量越多，回测时间越长
- 时间范围越长，计算量越大
- 建议先用小规模测试

### 3. 数据质量
- 系统会自动过滤数据不足的股票
- 确保网络连接稳定
- 耐心等待数据获取完成

## 🐛 常见问题

### Q: 回测失败怎么办？
A: 
1. 检查后端服务是否运行
2. 确认时间范围合理
3. 减少股票数量重试

### Q: 回测时间太长？
A:
1. 减少最大持仓数量
2. 使用较小的股票池
3. 缩短时间范围

### Q: 没有交易记录？
A:
1. 检查最小通道评分是否过高
2. 确认时间范围内有符合条件的股票
3. 调整策略参数

## 🎯 最佳实践

### 1. 渐进式测试
```
第一步：上证50，3个月，5只股票
第二步：非ST，6个月，10只股票  
第三步：非ST，1年，20只股票
```

### 2. 参数调优
```
保守策略：评分70+，持仓10只
平衡策略：评分60+，持仓20只
激进策略：评分50+，持仓30只
```

### 3. 结果分析
```
关注指标：夏普比率 > 1.0
风险控制：最大回撤 < 20%
收益表现：年化收益 > 10%
```

## 📞 技术支持

如果遇到问题：
1. 查看浏览器控制台错误
2. 检查后端服务日志
3. 确认参数设置合理
4. 联系技术支持团队

---

**祝您回测顺利！** 🎉 