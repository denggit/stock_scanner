# 📁 股票扫描器项目目录结构

```
└── 📁 stock_scanner
    ├── 📄 README.md
    ├── 📁 analysis # 分析模块
    │   ├── 📄 __init__.py # 包初始化文件
    │   └── 📁 analyze_explosive_20日_30%_5%回撤 # 特定分析结果
    │       ├── 📄 __init__.py # 包初始化文件
    │       ├── 📄 analyze_features.py
    │       └── 📄 扫描翻倍股_30%涨幅_5%回撤+20日.xlsx
    ├── 📁 backend # 后端核心代码
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 app.py # 主应用入口
    │   ├── 📁 business
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📁 backtest_event # 回测模块
    │   │   │   ├── 📁 DOCS
    │   │   │   │   └── 📁 策略说明
    │   │   │   │       └── 📄 上升通道策略.md
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 analysis # 分析模块
    │   │   │   ├── 📁 backtest_reports
    │   │   │   │   ├── 📄 rising_channel_19.xlsx
    │   │   │   │   ├── 📄 rising_channel_21.xlsx
    │   │   │   │   ├── 📄 rising_channel_25.xlsx
    │   │   │   │   ├── 📄 rising_channel_26.xlsx
    │   │   │   │   ├── 📄 rising_channel_optimization_20250813.xlsx
    │   │   │   │   └── 📄 rising_channel_optimization_incremental_20250817_030024.xlsx
    │   │   │   ├── 📁 configs # 配置模块
    │   │   │   │   └── 📄 rising_channel_config.py
    │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📄 backtest_engine.py
    │   │   │   │   ├── 📄 base_strategy.py
    │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   ├── 📄 result_analyzer.py
    │   │   │   │   └── 📄 trading_rules.py
    │   │   │   ├── 📁 database # 数据库配置
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   └── 📁 channel_db
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       ├── 📄 channel_db_adapter.py
    │   │   │   │       ├── 📄 channel_db_manager.py
    │   │   │   │       └── 📄 channel_meta.json
    │   │   │   ├── 📁 execution # 执行引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 base
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 base_runner.py
    │   │   │   │   └── 📄 rising_channel_backtest.py
    │   │   │   ├── 📁 logs # 日志文件目录
    │   │   │   ├── 📁 strategies # 交易策略模块
    │   │   │   │   ├── 📄 README.md
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 analyzers
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📁 channel
    │   │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │       ├── 📄 manager.py
    │   │   │   │   │       └── 📄 utils.py
    │   │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   ├── 📄 base_strategy.py
    │   │   │   │   │   ├── 📁 managers
    │   │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   │   │   ├── 📄 position_manager.py
    │   │   │   │   │   │   ├── 📄 trade_logger.py
    │   │   │   │   │   │   └── 📄 trade_manager.py
    │   │   │   │   │   └── 📄 utils.py
    │   │   │   │   └── 📁 implementations
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       └── 📁 channel
    │   │   │   │           ├── 📄 __init__.py # 包初始化文件
    │   │   │   │           └── 📄 rising_channel.py
    │   │   │   └── 📁 utils # 工具模块
    │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │       ├── 📄 data_utils.py
    │   │   │       └── 📄 report_utils.py
    │   │   ├── 📁 backtest_factor
    │   │   │   ├── 📄 README.md
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📄 analyzer.py
    │   │   │   │   ├── 📄 backtest_engine.py
    │   │   │   │   ├── 📄 base_factor.py
    │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   ├── 📄 factor_engine.py
    │   │   │   │   └── 📄 report_generator.py
    │   │   │   ├── 📄 example_with_real_data.py
    │   │   │   ├── 📄 factor_framework.py
    │   │   │   └── 📄 quantstats_example.py
    │   │   ├── 📁 data # 数据管理模块
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 configs # 配置模块
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   └── 📄 db_conn.py
    │   │   │   ├── 📄 data_fetcher.py # 股票数据获取
    │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   ├── 📄 data_update.py # 数据管理器
    │   │   │   └── 📁 source # 数据源模块
    │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │       ├── 📄 akshare_src.py # AKShare数据源
    │   │   │       ├── 📄 baostock_src.py # 宝硕数据源
    │   │   │       └── 📄 base.py # 策略基类
    │   │   ├── 📁 factor # 量化交易核心
    │   │   │   ├── 📄 FACTOR_FIELDS_MAPPING.md
    │   │   │   ├── 📄 README.md
    │   │   │   ├── 📄 WORLDQUANT_FACTORS_SUMMARY.md
    │   │   │   ├── 📄 WORLDQUANT_IMPLEMENTATION_COMPLETE.md
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 configs # 配置模块
    │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 analysis # 分析模块
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 factor_analyzer.py
    │   │   │   │   ├── 📁 backtest
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 backtest_engine.py
    │   │   │   │   ├── 📄 config.py
    │   │   │   │   ├── 📁 data # 数据管理模块
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 data_manager.py # 数据库操作
    │   │   │   │   ├── 📁 factor # 量化交易核心
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   ├── 📄 base_factor.py
    │   │   │   │   │   ├── 📄 factor_engine.py
    │   │   │   │   │   └── 📄 factor_registry.py
    │   │   │   │   └── 📁 reporting
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       └── 📄 report_generator.py
    │   │   │   ├── 📁 docs # 文档目录
    │   │   │   ├── 📁 library
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📄 channel_factors.py
    │   │   │   │   ├── 📄 fundamental_factors.py
    │   │   │   │   ├── 📄 technical_factors.py
    │   │   │   │   └── 📄 worldquant_factors.py
    │   │   │   ├── 📁 logs # 日志文件目录
    │   │   │   ├── 📄 main.py
    │   │   │   ├── 📄 run_factor.py
    │   │   │   ├── 📁 storage # 存储模块
    │   │   │   │   ├── 📁 backtest_results
    │   │   │   │   ├── 📁 factor_data
    │   │   │   │   └── 📁 reports
    │   │   │   │       ├── 📄 comprehensive_report_20250820_232033.html
    │   │   │   │       ├── 📄 comprehensive_report_20250820_232159.html
    │   │   │   │       ├── 📄 comprehensive_report_20250820_233545.html
    │   │   │   │       └── 📄 comprehensive_report_20250820_233713.html
    │   │   │   └── 📁 utils # 工具模块
    │   │   └── 📁 strategies # 交易策略模块
    │   │       ├── 📄 __init__.py # 包初始化文件
    │   │       ├── 📄 base.py # 策略基类
    │   │       ├── 📄 breakout.py # 突破策略
    │   │       ├── 📄 continuous_rise.py # 连续上涨策略
    │   │       ├── 📄 double_up.py # 翻倍策略
    │   │       ├── 📄 explosive_stock.py # 爆发性股票策略
    │   │       ├── 📄 hs_bottom.py # 底部策略
    │   │       ├── 📄 long_term_uptrend.py # 长期上涨趋势策略
    │   │       ├── 📄 ma_pullback.py # 均线回调策略
    │   │       ├── 📄 rising_channel.py
    │   │       ├── 📄 strategy_template.py # 策略模板
    │   │       └── 📄 swing_trading.py # 波段交易策略
    │   ├── 📁 interface # 接口层
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📄 backtest_interface.py # 回测接口
    │   │   ├── 📄 stock_interface.py # 股票接口
    │   │   └── 📄 strategy_interface.py # 策略接口
    │   ├── 📁 services # 业务服务层
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📄 backtest_service.py # 回测服务
    │   │   ├── 📄 stock_service.py # 股票服务
    │   │   └── 📄 strategy_service.py # 策略服务
    │   └── 📁 utils # 工具模块
    │       ├── 📄 __init__.py # 包初始化文件
    │       ├── 📄 api_response.py # API响应处理
    │       ├── 📄 file_check.py # 文件检查
    │       ├── 📄 format_info.py # 格式化工具
    │       ├── 📄 indicators.py # 技术指标
    │       └── 📄 logger.py # 日志工具
    ├── 📁 bin # 可执行脚本
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 train_explosive_model.sh # 模型训练脚本
    │   ├── 📄 update_database.bat # Windows批处理脚本
    │   ├── 📄 update_database.sh # 数据库更新脚本
    │   ├── 📄 update_directory_structure.sh
    │   ├── 📄 update_financial_data.py # 财务数据更新脚本
    │   ├── 📄 update_financial_data.sh # Shell脚本
    │   └── 📄 update_stock_data.py # 股票数据更新脚本
    ├── 📁 docs # 文档目录
    ├── 📄 env_list.txt # 环境变量列表
    ├── 📁 factor_reports
    │   ├── 📄 backtest_report_group_momentum_20250819_235529.xlsx
    │   ├── 📄 backtest_report_group_momentum_5d_20250820_203207.xlsx
    │   ├── 📄 backtest_report_group_momentum_5d_20250820_203217.xlsx
    │   ├── 📄 backtest_report_group_volatility_10d_20250820_203217.xlsx
    │   ├── 📄 backtest_report_multifactor_20250820_203218.xlsx
    │   ├── 📄 backtest_report_multifactor_20250820_205324.html
    │   ├── 📄 backtest_report_multifactor_20250820_205456.html
    │   ├── 📄 backtest_report_multifactor_20250820_210458.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205036.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205119.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205318.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205322.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205451.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_205454.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_210453.html
    │   ├── 📄 backtest_report_topn_momentum_10d_20250820_210456.html
    │   ├── 📄 backtest_report_topn_momentum_20250819_235529.xlsx
    │   ├── 📄 backtest_report_topn_momentum_5d_20250820_203207.xlsx
    │   ├── 📄 backtest_report_topn_momentum_5d_20250820_203216.xlsx
    │   ├── 📄 backtest_report_topn_volatility_10d_20250820_203217.xlsx
    │   ├── 📄 backtest_report_topn_volatility_20d_20250820_205323.html
    │   ├── 📄 backtest_report_topn_volatility_20d_20250820_205455.html
    │   ├── 📄 backtest_report_topn_volatility_20d_20250820_210457.html
    │   ├── 📄 comprehensive_report_20250819_235529.xlsx
    │   ├── 📄 comprehensive_report_20250820_203207.xlsx
    │   ├── 📄 comprehensive_report_20250820_203218.xlsx
    │   ├── 📄 comprehensive_report_20250820_205320.html
    │   ├── 📄 comprehensive_report_20250820_205452.html
    │   ├── 📄 comprehensive_report_20250820_205457.html
    │   ├── 📄 comprehensive_report_20250820_210454.html
    │   ├── 📄 comprehensive_report_20250820_210459.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_204933.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205037.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205120.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205320.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205324.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205452.html
    │   ├── 📄 error_report_group_momentum_10d_20250820_205456.html
    │   ├── 📄 error_report_group_volatility_20d_20250820_205324.html
    │   ├── 📄 error_report_group_volatility_20d_20250820_205456.html
    │   ├── 📄 error_report_topn_momentum_10d_20250820_204933.html
    │   ├── 📄 factor_comparison.png
    │   ├── 📄 factor_report_momentum_20250819_235527.xlsx
    │   ├── 📄 factor_report_momentum_5d_20250820_203203.xlsx
    │   ├── 📄 factor_report_momentum_5d_20250820_203209.xlsx
    │   ├── 📄 factor_report_volatility_10d_20250820_203213.xlsx
    │   ├── 📄 group_backtest_report_group_momentum_10d_20250820_210454.html
    │   ├── 📄 group_backtest_report_group_momentum_10d_20250820_210458.html
    │   ├── 📄 group_backtest_report_group_volatility_20d_20250820_210458.html
    │   ├── 📄 ic_analysis_momentum.png
    │   ├── 📄 ic_analysis_momentum_5d.png
    │   └── 📄 ic_analysis_volatility_10d.png
    ├── 📁 logs # 日志文件目录
    ├── 📁 pages # 前端页面
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 backtest.py
    │   ├── 📄 data_viewer.py # 数据查看页面
    │   └── 📄 strategy_scanner.py # 策略扫描页面
    ├── 📄 requirements.txt # Python依赖包
    ├── 📄 run_backend.py # 后端启动脚本
    ├── 📄 run_frontend.py # 前端启动脚本
    └── 📁 scripts # 脚本工具
        ├── 📄 __init__.py # 包初始化文件
        ├── 📄 factor_analysis.py # 因子分析脚本
        ├── 📄 factor_cal.py # 因子计算脚本
        ├── 📄 update_directory_structure.py
        └── 📄 validate_factor.py # 因子验证脚本

```

## 📋 目录结构说明

### 🏗️ **架构层次**

1. **业务层 (business)** - 统一管理所有业务逻辑
   - `backtest/` - 回测业务
   - `data/` - 数据业务
   - `factor/` - 因子业务
   - `ml/` - 机器学习业务
   - `strategies/` - 策略业务

2. **服务层 (services)** - 业务服务协调
   - `backtest_service.py` - 回测服务
   - `stock_service.py` - 股票服务
   - `strategy_service.py` - 策略服务

3. **接口层 (interface)** - API接口暴露
   - `backtest_interface.py` - 回测接口
   - `stock_interface.py` - 股票接口
   - `strategy_interface.py` - 策略接口

4. **工具层 (utils)** - 通用工具
   - `indicators.py` - 技术指标计算
   - `logger.py` - 日志工具
   - `api_response.py` - API响应处理

### 🔧 **核心模块**

- **数据模块**: 支持多数据源（AKShare、宝硕）
- **策略模块**: 多种交易策略实现
- **回测模块**: 完整的回测框架
- **因子模块**: 量化因子计算和分析
- **ML模块**: 机器学习模型训练和预测

### 📊 **前端界面**

- **数据查看器**: 交互式K线图和指标分析
- **策略扫描器**: 股票筛选和策略应用
- **回测页面**: 策略回测和结果分析

### 📚 **文档体系**

- **API文档**: 接口使用说明
- **使用示例**: 各模块的具体使用案例
- **开发文档**: 模块开发指南
- **快速参考**: 常用功能速查

---

**最后更新时间**: 2025年08月20日
**文档版本**: v2.0 