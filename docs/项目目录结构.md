# 📁 股票扫描器项目目录结构

```
└── 📁 stock_scanner
    ├── 📄 README.md
    ├── 📁 backend # 后端核心代码
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 app.py # 主应用入口
    │   ├── 📁 business
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📁 backtest_event # 回测模块
    │   │   │   ├── 📁 DOCS
    │   │   │   │   └── 📁 策略说明
    │   │   │   │       └── 📄 上升通道策略.md
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 analysis # 分析模块
    │   │   │   ├── 📁 backtest_reports
    │   │   │   │   ├── 📄 rising_channel_19.xlsx
    │   │   │   │   ├── 📄 rising_channel_21.xlsx
    │   │   │   │   ├── 📄 rising_channel_25.xlsx
    │   │   │   │   ├── 📄 rising_channel_26.xlsx
    │   │   │   │   ├── 📄 rising_channel_optimization_20250813.xlsx
    │   │   │   │   └── 📄 rising_channel_optimization_incremental_20250817_030024.xlsx
    │   │   │   ├── 📁 configs # 配置模块
    │   │   │   │   └── 📄 rising_channel_config.py
    │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📄 backtest_engine.py
    │   │   │   │   ├── 📄 base_strategy.py
    │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   ├── 📄 result_analyzer.py
    │   │   │   │   └── 📄 trading_rules.py
    │   │   │   ├── 📁 database # 数据库配置
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   └── 📁 channel_db
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       ├── 📄 channel_db_adapter.py
    │   │   │   │       ├── 📄 channel_db_manager.py
    │   │   │   │       └── 📄 channel_meta.json
    │   │   │   ├── 📁 execution # 执行引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 base
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 base_runner.py
    │   │   │   │   └── 📄 rising_channel_backtest.py
    │   │   │   ├── 📁 logs # 日志文件目录
    │   │   │   ├── 📁 strategies # 交易策略模块
    │   │   │   │   ├── 📄 README.md
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 analyzers
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📁 channel
    │   │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │       ├── 📄 manager.py
    │   │   │   │   │       └── 📄 utils.py
    │   │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   ├── 📄 base_strategy.py
    │   │   │   │   │   ├── 📁 managers
    │   │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   │   │   ├── 📄 position_manager.py
    │   │   │   │   │   │   ├── 📄 trade_logger.py
    │   │   │   │   │   │   └── 📄 trade_manager.py
    │   │   │   │   │   └── 📄 utils.py
    │   │   │   │   └── 📁 implementations
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       └── 📁 channel
    │   │   │   │           ├── 📄 __init__.py # 包初始化文件
    │   │   │   │           └── 📄 rising_channel.py
    │   │   │   └── 📁 utils # 工具模块
    │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │       ├── 📄 data_utils.py
    │   │   │       └── 📄 report_utils.py
    │   │   ├── 📁 data # 数据管理模块
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 configs # 配置模块
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   └── 📄 db_conn.py
    │   │   │   ├── 📄 data_fetcher.py # 股票数据获取
    │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   ├── 📄 data_update.py # 数据管理器
    │   │   │   └── 📁 source # 数据源模块
    │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │       ├── 📄 akshare_src.py # AKShare数据源
    │   │   │       ├── 📄 baostock_src.py # 宝硕数据源
    │   │   │       ├── 📄 base.py # 策略基类
    │   │   │       └── 📄 news_crawler.py
    │   │   ├── 📁 factor # 量化交易核心
    │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   ├── 📁 core # 核心引擎
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📁 analysis # 分析模块
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 factor_analyzer.py
    │   │   │   │   ├── 📁 backtest
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   └── 📄 backtest_engine.py
    │   │   │   │   ├── 📄 config.py
    │   │   │   │   ├── 📁 data # 数据管理模块
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   ├── 📄 data_manager.py # 数据库操作
    │   │   │   │   │   ├── 📄 data_requirement_analyzer.py
    │   │   │   │   │   └── 📄 enhanced_data_manager.py
    │   │   │   │   ├── 📁 factor # 量化交易核心
    │   │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   │   ├── 📄 base_factor.py
    │   │   │   │   │   ├── 📄 factor_engine.py
    │   │   │   │   │   └── 📄 factor_registry.py
    │   │   │   │   └── 📁 reporting
    │   │   │   │       ├── 📄 README.md
    │   │   │   │       ├── 📄 __init__.py # 包初始化文件
    │   │   │   │       ├── 📄 report_generator.py
    │   │   │   │       └── 📁 templates
    │   │   │   │           ├── 📄 __init__.py # 包初始化文件
    │   │   │   │           ├── 📄 base_template.html
    │   │   │   │           └── 📁 sections
    │   │   │   │               ├── 📄 _charts.html
    │   │   │   │               ├── 📄 _details.html
    │   │   │   │               ├── 📄 _factor_table.html
    │   │   │   │               └── 📄 _summary_card.html
    │   │   │   ├── 📁 docs # 文档目录
    │   │   │   ├── 📁 library
    │   │   │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   │   │   ├── 📄 akshare_factors.py
    │   │   │   │   ├── 📄 channel_factors.py
    │   │   │   │   ├── 📄 fundamental_factors.py
    │   │   │   │   ├── 📄 technical_factors.py
    │   │   │   │   └── 📄 worldquant_factors.py
    │   │   │   ├── 📁 logs # 日志文件目录
    │   │   │   ├── 📄 main.py
    │   │   │   ├── 📁 reports
    │   │   │   │   ├── 📁 20250824_235055
    │   │   │   │   └── 📁 20250824_235252
    │   │   │   │       ├── 📄 WorldQuant因子批次1.html
    │   │   │   │       ├── 📄 WorldQuant因子批次2.html
    │   │   │   │       ├── 📄 WorldQuant因子批次3.html
    │   │   │   │       ├── 📄 WorldQuant因子批次4.html
    │   │   │   │       ├── 📄 WorldQuant因子批次5.html
    │   │   │   │       └── 📄 WorldQuant因子批次6.html
    │   │   │   └── 📄 run_factor.py
    │   │   └── 📁 strategies # 交易策略模块
    │   │       ├── 📄 __init__.py # 包初始化文件
    │   │       ├── 📄 base.py # 策略基类
    │   │       ├── 📄 breakout.py # 突破策略
    │   │       ├── 📄 continuous_rise.py # 连续上涨策略
    │   │       ├── 📄 double_up.py # 翻倍策略
    │   │       ├── 📄 hs_bottom.py # 底部策略
    │   │       ├── 📄 long_term_uptrend.py # 长期上涨趋势策略
    │   │       ├── 📄 ma_pullback.py # 均线回调策略
    │   │       ├── 📄 rising_channel.py
    │   │       ├── 📄 strategy_template.py # 策略模板
    │   │       └── 📄 swing_trading.py # 波段交易策略
    │   ├── 📁 interface # 接口层
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📄 backtest_interface.py # 回测接口
    │   │   ├── 📄 stock_interface.py # 股票接口
    │   │   └── 📄 strategy_interface.py # 策略接口
    │   ├── 📁 services # 业务服务层
    │   │   ├── 📄 __init__.py # 包初始化文件
    │   │   ├── 📄 backtest_service.py # 回测服务
    │   │   ├── 📄 stock_service.py # 股票服务
    │   │   └── 📄 strategy_service.py # 策略服务
    │   └── 📁 utils # 工具模块
    │       ├── 📄 __init__.py # 包初始化文件
    │       ├── 📄 api_response.py # API响应处理
    │       ├── 📄 file_check.py # 文件检查
    │       ├── 📄 format_info.py # 格式化工具
    │       ├── 📄 indicators.py # 技术指标
    │       └── 📄 logger.py # 日志工具
    ├── 📁 bin # 可执行脚本
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 train_explosive_model.sh # 模型训练脚本
    │   ├── 📄 update_database.bat # Windows批处理脚本
    │   ├── 📄 update_database.sh # 数据库更新脚本
    │   ├── 📄 update_directory_structure.sh
    │   ├── 📄 update_financial_data.py # 财务数据更新脚本
    │   ├── 📄 update_financial_data.sh # Shell脚本
    │   └── 📄 update_stock_data.py # 股票数据更新脚本
    ├── 📄 debug_data_consistency.py
    ├── 📁 docs # 文档目录
    ├── 📄 env_list.txt # 环境变量列表
    ├── 📁 logs # 日志文件目录
    ├── 📁 mcp
    │   ├── 📄 README.md
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 mcp_server.py
    │   └── 📄 simple_mcp_server.py
    ├── 📁 pages # 前端页面
    │   ├── 📄 __init__.py # 包初始化文件
    │   ├── 📄 backtest.py
    │   ├── 📄 data_viewer.py # 数据查看页面
    │   └── 📄 strategy_scanner.py # 策略扫描页面
    ├── 📁 reports
    │   ├── 📄 WorldQuant Alpha因子综合分析报告_20250824_231940.html
    │   ├── 📄 WorldQuant因子批次10_20250824_231720.html
    │   ├── 📄 WorldQuant因子批次11_20250824_231727.html
    │   ├── 📄 WorldQuant因子批次12_20250824_231738.html
    │   ├── 📄 WorldQuant因子批次13_20250824_231747.html
    │   ├── 📄 WorldQuant因子批次14_20250824_231755.html
    │   ├── 📄 WorldQuant因子批次15_20250824_231805.html
    │   ├── 📄 WorldQuant因子批次16_20250824_231815.html
    │   ├── 📄 WorldQuant因子批次17_20250824_231823.html
    │   ├── 📄 WorldQuant因子批次18_20250824_231834.html
    │   ├── 📄 WorldQuant因子批次19_20250824_231842.html
    │   ├── 📄 WorldQuant因子批次1_20250824_231604.html
    │   ├── 📄 WorldQuant因子批次20_20250824_231852.html
    │   ├── 📄 WorldQuant因子批次21_20250824_231902.html
    │   ├── 📄 WorldQuant因子批次22_20250824_231915.html
    │   ├── 📄 WorldQuant因子批次23_20250824_231924.html
    │   ├── 📄 WorldQuant因子批次24_20250824_231937.html
    │   ├── 📄 WorldQuant因子批次25_20250824_231940.html
    │   ├── 📄 WorldQuant因子批次2_20250824_231613.html
    │   ├── 📄 WorldQuant因子批次3_20250824_231623.html
    │   ├── 📄 WorldQuant因子批次4_20250824_231632.html
    │   ├── 📄 WorldQuant因子批次5_20250824_231640.html
    │   ├── 📄 WorldQuant因子批次6_20250824_231649.html
    │   ├── 📄 WorldQuant因子批次7_20250824_231656.html
    │   ├── 📄 WorldQuant因子批次8_20250824_231704.html
    │   ├── 📄 WorldQuant因子批次9_20250824_231713.html
    │   ├── 📄 全因子分析批次1_20250824_232001.html
    │   ├── 📄 全因子分析批次2_20250824_232007.html
    │   ├── 📄 全因子分析批次3_20250824_232014.html
    │   ├── 📄 全因子分析批次4_20250824_232021.html
    │   ├── 📄 全因子分析批次5_20250824_232026.html
    │   ├── 📄 全因子分析批次6_20250824_232032.html
    │   ├── 📄 全因子分析批次7_20250824_232038.html
    │   ├── 📄 全因子分析批次8_20250824_232046.html
    │   └── 📄 全因子分析批次9_20250824_232055.html
    ├── 📄 requirements.txt # Python依赖包
    ├── 📄 run_backend.py # 后端启动脚本
    ├── 📄 run_frontend.py # 前端启动脚本
    ├── 📄 run_mcp_server.py
    ├── 📁 scripts # 脚本工具
    │   ├── 📄 __init__.py # 包初始化文件
    │   └── 📄 update_directory_structure.py
    ├── 📄 test_merged_report.py
    ├── 📄 test_shared_dir.py
    ├── 📄 test_subdir.py
    └── 📄 test_total_return_consistency.py

```

## 📋 目录结构说明

### 🏗️ **架构层次**

1. **业务层 (business)** - 统一管理所有业务逻辑
   - `backtest/` - 回测业务
   - `data/` - 数据业务
   - `factor/` - 因子业务
   - `ml/` - 机器学习业务
   - `strategies/` - 策略业务

2. **服务层 (services)** - 业务服务协调
   - `backtest_service.py` - 回测服务
   - `stock_service.py` - 股票服务
   - `strategy_service.py` - 策略服务

3. **接口层 (interface)** - API接口暴露
   - `backtest_interface.py` - 回测接口
   - `stock_interface.py` - 股票接口
   - `strategy_interface.py` - 策略接口

4. **工具层 (utils)** - 通用工具
   - `indicators.py` - 技术指标计算
   - `logger.py` - 日志工具
   - `api_response.py` - API响应处理

### 🔧 **核心模块**

- **数据模块**: 支持多数据源（AKShare、宝硕）
- **策略模块**: 多种交易策略实现
- **回测模块**: 完整的回测框架
- **因子模块**: 量化因子计算和分析
- **ML模块**: 机器学习模型训练和预测

### 📊 **前端界面**

- **数据查看器**: 交互式K线图和指标分析
- **策略扫描器**: 股票筛选和策略应用
- **回测页面**: 策略回测和结果分析

### 📚 **文档体系**

- **API文档**: 接口使用说明
- **使用示例**: 各模块的具体使用案例
- **开发文档**: 模块开发指南
- **快速参考**: 常用功能速查

---

**最后更新时间**: 2025年08月24日
**文档版本**: v2.0 